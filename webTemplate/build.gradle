
apply plugin: 'application'
mainClassName = "webTemplate.service.Server"

task stage {
  dependsOn installDist
  }

ext {
    namespace='aggregatortech'
    repository="webtemplate"
    tag="$version"
}

task distDocker(type: Exec) {
    dependsOn installDist
    executable 'sh'
    args '-c', "docker build -t=${namespace}/${repository}:${tag} ."
}

dependencies {
    compile (
            [group: 'org.glassfish.jersey.containers', name: 'jersey-container-grizzly2-http', version:'2.26'],
            [group: 'org.glassfish.jersey.inject', name: 'jersey-hk2', version:'2.26'],
            [group: 'com.fasterxml.jackson.jaxrs', name: 'jackson-jaxrs-json-provider', version: '2.4.1']
    )

}
